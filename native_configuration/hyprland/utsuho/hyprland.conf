# Utsuho machine-specific Hyprland configuration
# Main desktop PC with dual 1440p monitors

# Dual monitor configuration
# Left monitor (main): 27" 1440p 180Hz without scaling
monitor = DP-3,2560x1440@180.00,0x0,1.0
# Right monitor (secondary): 24" 1440p 75Hz 1.25x scaling
monitor = HDMI-A-1,2560x1440@74.97,2560x288,1.25

# Fallback for any other monitors
monitor = ,preferred,auto,1.0

# AMD GPU optimizations
env = WLR_DRM_NO_ATOMIC,1
env = __GL_GSYNC_ALLOWED,1
env = __GL_VRR_ALLOWED,1

# Workspace assignment for dual monitor setup
workspace = 1, monitor:DP-3, default:true
workspace = 2, monitor:DP-3
workspace = 3, monitor:DP-3
workspace = 4, monitor:DP-3
workspace = 7, monitor:DP-3
workspace = 8, monitor:DP-3

workspace = 5, monitor:HDMI-A-1
workspace = 6, monitor:HDMI-A-1
workspace = 9, monitor:HDMI-A-1
workspace = 10, monitor:HDMI-A-1

# Gaming window rules for tearing
windowrulev2 = immediate, class:^(cs2)$
windowrulev2 = immediate, class:^(steam_app_.*)$
windowrulev2 = immediate, class:^(gamescope)$

# Discord push-to-talk bind (F24/keycode 202)
bind = , code:202, pass, class:^(discord|vesktop|webcord|xev)$

# Bind to deactivate primary monitor for a while (meshes good with connecting my work laptop to the primary screen)
bind = $mainMod SHIFT, M, exec, hyprctl keyword monitor "DP-3, disable"
bind = $mainMod CTRL, M, exec, hyprctl keyword monitor "DP-3,2560x1440@180.00,0x0,1.0"

# Machine-specific startup applications
exec-once = swww img ~/Pictures/wallpapers/wp_utsuho.png
